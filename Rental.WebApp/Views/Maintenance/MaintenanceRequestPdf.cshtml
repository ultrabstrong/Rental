@using Rental.WebApp.Controllers
@using Rental.WebApp.Models.Maintenance
@model MaintenanceRequest
@{ Layout = null; }

<div class="container">
    <!-- PDF Header with Title -->
    <div class="text-center mb-4 border-bottom">
        <h2>Maintenance Request</h2>
        <p>@DateTime.Now.ToShortDateString()</p>
    </div>

    <!-- Basic Request Info -->
    <div class="mb-4 avoid-break">
        <div class="row">
            <div class="col-12">
                <h3>@Html.DisplayNameFor(m => m.RentalAddress)</h3>
                <span class="answer-box">@Html.Encode(Model.RentalAddress)</span>
            </div>
        </div>
    </div>

    <!-- Requester Information Section -->
    <div class="mb-4 avoid-break">
        <div class="section-header">
            <h3>Contact Information</h3>
        </div>
        <div class="row">
            <div class="col-6">
                <p>@Html.DisplayNameFor(m => m.FirstName)</p>
                <span class="answer-box">@Html.Encode(Model.FirstName)</span>
            </div>
            <div class="col-6">
                <p>@Html.DisplayNameFor(m => m.LastName)</p>
                <span class="answer-box">@Html.Encode(Model.LastName)</span>
            </div>
        </div>
        <div class="row">
            <div class="col-6">
                <p>@Html.DisplayNameFor(m => m.Email)</p>
                <span class="answer-box">@(string.IsNullOrEmpty(Model.Email) ? "Not provided" : Html.Encode(Model.Email))</span>
            </div>
            <div class="col-6">
                <p>@Html.DisplayNameFor(m => m.Phone)</p>
                <span class="answer-box">@(string.IsNullOrEmpty(Model.Phone) ? "Not provided" : Html.Encode(Model.Phone))</span>
            </div>
        </div>
    </div>

    <!-- Maintenance Description Section -->
    <div class="mb-4 avoid-break">
        <div class="section-header">
            <h3>Maintenance Details</h3>
        </div>
        <div class="row">
            <div class="col-12">
                <p>@Html.DisplayNameFor(m => m.Description)</p>
                <div class="answer-box">@Html.Encode(Model.Description)</div>
            </div>
        </div>
    </div>
</div>

<style>
    /* PDF core styles */
    body {
        font-family: Arial, sans-serif;
        font-size: 12pt;
        line-height: 1.5;
    }
    
    .avoid-break { page-break-inside: avoid; }
    
    /* Layout */
    .container { width: 100%; }
    
    .row {
        display: table;
        width: 100%;
        margin-bottom: 15px;
    }
    
    .col-6 {
        display: table-cell;
        width: 50%;
        padding-right: 10px;
    }
    
    .col-12 { width: 100%; }
    
    /* Headers */
    .section-header {
        background-color: #f8f9fa;
        border-left: 4px solid #198754;
        padding: 8px;
        margin-bottom: 10px;
    }
    
    .border-bottom { border-bottom: 1px solid #dee2e6; }
    
    /* Text styling */
    h2, h3 { margin: 0; }
    p { margin: 6px 0; }
    .text-center { text-align: center; }
    
    /* Spacing */
    .mb-4 { margin-bottom: 16px; }
    
    /* Form fields */
    .answer-box {
        display: block;
        background-color: #f5f5f5;
        border: 1px solid #000;
        border-radius: 4px;
        padding: 4px 8px;
        margin: 4px 0 10px 0;
        min-height: 24px;
        word-break: break-word;
    }
</style>